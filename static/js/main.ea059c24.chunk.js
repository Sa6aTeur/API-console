(this["webpackJsonpreact-sendsay-console"]=this["webpackJsonpreact-sendsay-console"]||[]).push([[0],{100:function(e,t,n){e.exports=n(209)},105:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(87),l=n.n(o),s=(n(105),n(56)),i=n(7),c=n(5),u=n(28),d=n(224),m=n(226),g=Object(d.a)((function(e){return{root:{height:"100%",width:"520px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}})),p=function(e){var t=e.children,n=Object(u.a)(e,["children"]),a=g();return r.a.createElement(m.a,Object.assign({container:"main",maxWidth:"md",className:a.root},n),t)},f=Object(d.a)((function(e){return{root:{width:"520px",display:"flex",flexDirection:"column",left:"calc(50% - 520px / 2)",background:"#ffffff",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:"5px",padding:"30px 30px"}}}));var b=function(e){var t=e.children,n=Object(u.a)(e,["children"]),a=f();return r.a.createElement("form",Object.assign({className:a.root},n)," ",t," ")},x=n(227),v=n(9),h=Object(d.a)((function(e){return{root:{width:"460px",height:"40px",left:"calc(50% - 460px/2)",marginBottom:"25px",display:"flex",background:"#FFFFFF",paddingLeft:"7px",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"5px"},span:{display:"flex",marginBottom:"5px",fontSize:"16px"},error:{border:"1px solid red"},spanerror:{color:"red"}}})),E=Object(a.forwardRef)((function(e,t){var n=h();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Object(v.a)(n.span,e.iserror&&n.spanerror)},e.span),r.a.createElement(x.a,Object.assign({className:Object(v.a)(n.root,e.iserror&&n.error),disableUnderline:!0,ref:t},e)))})),O=Object(d.a)((function(e){return{root:{width:"110px",height:"40px",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #45A6FF 0%, #0055FB 100%), #C4C4C4",borderRadius:"5px",border:"none","&:hover":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15)), linear-gradient(180deg, #45A6FF 0%, #0055FB 100%), #C4C4C4;"},"&:active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15)), linear-gradient(180deg, #45A6FF 0%, #0055FB 100%), #C4C4C4;"}}}}));var j=function(e){var t=e.children,n=Object(u.a)(e,["children"]),a=O();return r.a.createElement("button",Object.assign({type:"submit",className:a.root},n),t)},y=n(23),w=n(2),N=n(92),S=new(n.n(N).a);S.setSessionFromCookie("sendsay_session");var k=function e(){Object(w.a)(this,e)};k.sendsay=S;var C=function(e){return k.sendsay.login({login:e.login,sublogin:e.sublogin,password:e.password})},q=n(97),B=n(11),I=n(93),R=n.n(I),F=Object(a.createContext)(),D=function(e){var t=e.children,n=JSON.parse(localStorage.getItem("loginData")),o=Object(a.useState)(Object(B.a)({loading:!1},n)),l=Object(c.a)(o,2),s=l[0],i=l[1];return r.a.createElement(F.Provider,{value:{loginData:s,setLoginData:function(e){i((function(t){return Object(B.a)({},t,{},e)}))},login:function(e){document.cookie="sendsay_session=".concat(k.sendsay.session);var t=k.sendsay.session,n=e.login,a=e.sublogin;window.localStorage.setItem("loginData",JSON.stringify({login:n,sublogin:a,sessionKey:t})),i((function(n){return Object(B.a)({},n,{},e,{sessionKey:t})}))},logout:function(){i((function(e){return Object(B.a)({},e,{login:"",sublogin:"",sessionKey:""})})),R.a.remove("sendsay_session"),window.localStorage.removeItem("loginData"),window.localStorage.removeItem("consoleData")}}},t)},W=function(){return Object(a.useContext)(F)},J=Object(d.a)((function(e){return{root:{background:"rgba(207, 44, 0, 0.1)",borderRadius:"5px",padding:"10px 10px",marginBottom:"10px"},wrap:{display:"flex",alignItems:"flex-start"},titleWrap:{padding:"0 10px"},span:{padding:"0",color:"#CF2C00",fontSize:"12px",margin:"0"},title:{padding:"0",margin:"0",color:"#CF2C00",fontSize:"18px"}}}));var L=function(e){var t=J();return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.wrap},r.a.createElement("img",{alt:"error",src:"/icons/meh.svg"}),r.a.createElement("div",{className:t.titleWrap},r.a.createElement("h3",{className:t.title},e.title),r.a.createElement("span",{className:t.span},e.message))))},z=n(48),M=z.a().shape({login:z.b().required(),password:z.b().required()}),T=Object(d.a)((function(e){return{headerText:{fontWeight:"400",fontSize:"24px",marginBottom:"30px"},logo:{marginBottom:"20px"}}}));var A=Object(i.g)((function(e){var t,n,o,l=e.history,s=Object(a.useState)({}),i=Object(c.a)(s,2),u=i[0],d=i[1],m=W(),g=m.loginData,f=m.setLoginData,x=m.login,v=g.loading,h=g.sessionKey,O=T(),w=!!(null===h||void 0===h?void 0:h.length),N=!!u.id;Object(a.useEffect)((function(){w&&l.push("/console")}),[l,w]);var S=Object(y.d)({mode:"onBlur",resolver:Object(q.a)(M)}),k=S.register,B=S.handleSubmit,I=S.formState.errors;return w?r.a.createElement(r.a.Fragment,null):r.a.createElement(p,null,r.a.createElement("img",{src:"/icons/logo.svg",alt:"",className:O.logo}),r.a.createElement(b,{onSubmit:B((function(e){f({loading:!0}),C(e).then((function(t){x({login:e.login,sublogin:e.sublogin}),f({loading:!1})})).catch((function(e){document.cookie="",f({loading:!1}),d(e)}))}))},r.a.createElement("h1",{className:O.headerText},"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430"),N&&r.a.createElement(L,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430",message:null===u||void 0===u?void 0:u.explain}),r.a.createElement(E,Object.assign({},k("login"),{name:"login",id:"login",span:"\u041b\u043e\u0433\u0438\u043d",type:"text",iserror:null===I||void 0===I?void 0:I.login,errormessage:null===I||void 0===I||null===(t=I.login)||void 0===t?void 0:t.message})),r.a.createElement(E,Object.assign({},k("sublogin"),{name:"sublogin",id:"sublogin",span:"\u0421\u0443\u0431\u043b\u043e\u0433\u0438\u043d",type:"text",iserror:null===I||void 0===I?void 0:I.sublogin,errormessage:null===I||void 0===I||null===(n=I.sublogin)||void 0===n?void 0:n.message})),r.a.createElement(E,Object.assign({},k("password"),{name:"password",id:"password",span:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"text",iserror:null===I||void 0===I?void 0:I.password,errormessage:null===I||void 0===I||null===(o=I.password)||void 0===o?void 0:o.message})),r.a.createElement(j,{type:"submit"},v?r.a.createElement("img",{alt:"loading",src:"/icons/Spinner2.svg"}):"\u0412\u043e\u0439\u0442\u0438")))})),H=Object(d.a)((function(e){return{root:{display:"flex",alignItems:"center",borderBottom:"1px solid rgba(0, 0, 0, 0.2)",justifyContent:"space-between",width:"100%",padding:"10px 15px",background:"#E5E5E5","& h3":{fontWeight:"400"},"& div":{display:"flex",alignItems:"center"}},logo:{marginRight:"15px"},loginBlock:{display:"flex",marginRight:"30px",alignItems:"center",padding:"5px 10px",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"5px"},cancelBlock:{display:"flex",alignItems:"center",marginRight:"30px","& span":{marginRight:"7px"},"&:hover":{cursor:"pointer","& img":{transform:"translateY(-2px)  translateX(2px)",transition:" 0.3s "}}},fullscreen:{minWidth:"20px",minHeight:"20px","&:hover":{cursor:"pointer","& img":{width:"20px",height:"20px",transition:" 0.15s "}}},canselFullscreen:{minWidth:"20px",minHeight:"20px","&:hover":{cursor:"pointer","& img":{width:"18px",height:"18px",transition:" 0.15s "}}}}}));var K=function(){var e=W(),t=e.loginData,n=e.logout,o=t.login,l=t.sublogin,s=H(),u=Object(i.f)(),d=Object(a.useState)(!1),m=Object(c.a)(d,2),g=m[0],p=m[1];return r.a.createElement("div",{className:s.root},r.a.createElement("div",null,r.a.createElement("img",{className:s.logo,src:"/icons/logo.svg",alt:"logo"}),r.a.createElement("h3",null,"API-\u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043a\u0430")),r.a.createElement("div",null,r.a.createElement("div",{className:s.loginBlock},r.a.createElement("span",null,o)," ",l&&r.a.createElement("span",null," : ",l)),r.a.createElement("div",{className:s.cancelBlock,onClick:function(){n(),u.push("/")}},r.a.createElement("span",null,"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement("img",{height:22,width:22,className:s.cancel,src:"/icons/log-out.svg",alt:"logout"})),g?r.a.createElement("div",{className:s.canselFullscreen,onClick:function(){document.exitFullscreen(),p(!1)}},r.a.createElement("img",{height:20,width:20,className:s.cancel,src:"/icons/cancelFulScr.svg",alt:"fullscreeen"})):r.a.createElement("div",{className:s.fullscreen,onClick:function(){document.documentElement.requestFullscreen(),p(!0)}},r.a.createElement("img",{height:18,width:18,className:s.cancel,src:"/icons/full-screen.svg",alt:"fullscreeen"}))))},P=Object(d.a)((function(e){return{wrap:{display:"flex",flexDirection:"column",width:"100%",backgroundColor:"#fff",height:"100%"},root:{display:"flex",justifyContent:"space-between",width:"100%",backgroundColor:"#fff",padding:"10px 15px",borderBottom:"1px solid rgba(0, 0, 0, 0.2)",height:"100%"},imgWrap:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flex:"1"},blockWrap:{display:"flex",flexDirection:"column",width:"49.7%"},reqresBlock:{border:"1px solid rgba(0, 0, 0, 0.2)",width:"100%",borderRadius:"5px",padding:"10px 10px",height:"100%","& textarea":{width:"100%",height:"100%",border:"none",overflow:"auto",outline:"none",boxShadow:"none",fontSize:"14px"},"& pre":{width:"100%",height:"100%",border:"none",overflow:"auto",outline:"none",boxShadow:"none",fontSize:"14px"}},submitBlock:{padding:"10px 15px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between","& a":{textDecoration:"none",color:"#999999"}},formatingBlock:{display:"flex",alignItems:"center",justifyContent:"space-between","& span":{fontSize:"14px",marginLeft:"5px"},"&:hover":{cursor:"pointer","& img":{transform:"translateY(-2px)  translateX(2px)",transition:" 0.3s "}}},span:{color:"#999999",fontSize:"14px"},errorBlock:{border:"1px solid red"},error:{color:"red"}}})),V=n(3),_=Object(a.createContext)(),Y=function(e){var t=e.children,n=JSON.parse(localStorage.getItem("consoleData")),o=Object(a.useState)(""),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(a.useState)(!1),d=Object(c.a)(u,2),m=d[0],g=d[1],p=Object(a.useState)(Object(B.a)({requests:[]},n,{loading:!1,currentRequest:null})),f=Object(c.a)(p,2),b=f[0],x=f[1];return r.a.createElement(_.Provider,{value:{consoleData:b,requestInputValue:s,needSubmit:m,setNeedSubmit:g,setRequestInputValue:i,setConsoleData:function(e){x((function(t){return Object(B.a)({},t,{},e)}))},deleteRequest:function(e){console.log("here");var t=b.requests.filter((function(t){return t.name!==e}));x({requests:t}),localStorage.setItem("consoleData",JSON.stringify({requests:Object(V.a)(t)}))},copyRequest:function(e){var t=b.requests.find((function(t){return t.name===e}));navigator.clipboard.writeText(JSON.stringify(t.request,null,"\t"))},deleteHistory:function(){x((function(e){return Object(B.a)({},e,{requests:[]})})),localStorage.setItem("consoleData",JSON.stringify({requests:[]}))},doRequest:function(e){var t=b.requests.find((function(t){return t.name===e}));i(JSON.stringify(t.request,null,"\t")),g(!0)},addRequest:function(e){var t={name:e.request.action,request:e.request,response:e.response,success:e.success},n=b.requests.filter((function(e){return e.name!==t.name}));n.length>15&&n.splice(15),n.unshift(t),x((function(e){return Object(B.a)({},e,{requests:Object(V.a)(n)})})),localStorage.setItem("consoleData",JSON.stringify({requests:Object(V.a)(n)}))}}},t)},X=function(){return Object(a.useContext)(_)};var G=function(){var e=P(),t=Object(a.useState)(!1),n=Object(c.a)(t,2),o=n[0],l=n[1],s=Object(a.useState)(!1),i=Object(c.a)(s,2),u=i[0],d=i[1],m=Object(a.useState)(""),g=Object(c.a)(m,2),p=g[0],f=g[1],b=X(),x=b.addRequest,h=b.requestInputValue,E=b.setRequestInputValue,O=b.needSubmit,y=b.setNeedSubmit,w=Object(a.useCallback)((function(){d(!1);try{var e=JSON.parse(h);k.sendsay.request(e).then((function(t){x({request:Object(B.a)({},e),response:Object(B.a)({},t),success:!0}),f(JSON.stringify(t,null,"\t"))})).catch((function(t){x({request:Object(B.a)({},e),response:Object(B.a)({},t),success:!1}),d(!0),f(JSON.stringify(t,null,"\t"))}))}catch(t){f(""),l(!0)}}),[h,x]);return Object(a.useEffect)((function(){O&&(w(),y(!1))}),[O,w,y]),r.a.createElement("div",{className:e.wrap},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.blockWrap},r.a.createElement("span",{className:Object(v.a)(e.span,o&&e.error)},"\u0417\u0430\u043f\u0440\u043e\u0441:"),r.a.createElement("div",{className:Object(v.a)(e.reqresBlock,o&&e.errorBlock)},r.a.createElement("textarea",{name:"requestInput",id:"requestInput",value:h,type:"text",onChange:function(e){o&&l(!1),E(e.target.value)}}))),r.a.createElement("div",{className:e.imgWrap},r.a.createElement("img",{src:"/icons/dots.svg",alt:"dots"})),r.a.createElement("div",{className:e.blockWrap},r.a.createElement("span",{className:Object(v.a)(e.span,u&&e.error)},"\u041e\u0442\u0432\u0435\u0442:"),r.a.createElement("div",{className:Object(v.a)(e.reqresBlock,u&&e.errorBlock)},r.a.createElement("pre",null,p)))),r.a.createElement("div",{className:e.submitBlock},r.a.createElement(j,{type:"submit",onClick:w},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/Sa6aTeur"},"@github.com/Sa6aTeur")),r.a.createElement("div",{className:e.formatingBlock,onClick:function(){try{E(JSON.stringify(JSON.parse(h),null,"\t"))}catch(e){l(!0)}}},r.a.createElement("img",{src:"/icons/format.svg",alt:"format"}),r.a.createElement("span",null,"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))},U=Object(d.a)((function(e){return{rel:{display:"flex",position:"relative",alignItems:"center",padding:"3px 5px",background:"#fff",borderRadius:"5px",marginRight:"5px"},dotsWrap:{display:"flex",position:"relative",padding:"0 0 0 5px","&:hover":{cursor:"pointer"}},imgWrap:{marginRight:"7px"},dropdown:{position:"fixed",display:"none",top:"0",left:"0",zIndex:"10",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.25)"},dropdownButton:{width:"90px",height:"30px",borderRadius:"0",border:"none",background:"#fff"},buttonWrapper:{borderTop:"1px solid rgba(0, 0, 0, 0.2)"},blueButton:{"&:hover":{background:"#0055FB",color:"#fff"}},redButton:{"&:hover":{background:"#CF2C00",color:"#fff"}}}}));var $=function(e){var t=e.name,n=e.success,o=(e.customref,e.onDelete,X()),l=o.deleteRequest,s=o.copyRequest,i=o.doRequest,u=U(),d=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=function(){var n=t.current.getBoundingClientRect();e.current.style.top=String(Math.round(n.y+20))+"px",e.current.style.left=String(Math.round(n.x-20))+"px"},r=function(){var n=t.current.getBoundingClientRect();"none"===e.current.style.display||""===e.current.style.display?(e.current.style.top=String(Math.round(n.y+20))+"px",e.current.style.left=String(Math.round(n.x-20))+"px",e.current.style.display="block"):e.current.style.display="none"},o=function(n){!e.current||e.current.contains(n.target)||t.current.contains(n.target)||(e.current.style.display="none")};return Object(a.useEffect)((function(){var e=document.getElementById("scroll"),a=t.current;if(a&&e)return a.addEventListener("click",r),e.addEventListener("scroll",n),document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){a.removeEventListener("click",r),e.removeEventListener("scroll",n),document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o)}}),[]),[t,e]}(),m=Object(c.a)(d,2),g=m[0],p=m[1];return r.a.createElement("div",{className:u.rel},r.a.createElement("div",{className:u.imgWrap},n?r.a.createElement("img",{src:"/icons/EllipseGreen.svg",alt:"green"}):r.a.createElement("img",{src:"/icons/EllipseRed.svg",alt:"red"})),r.a.createElement("span",null,t),r.a.createElement("div",{ref:g,className:u.dotsWrap},r.a.createElement("img",{src:"/icons/dots.svg",alt:"dots"}),r.a.createElement("ul",{ref:p,className:u.dropdown},r.a.createElement("div",{className:u.buttonWrapper},r.a.createElement("button",{onClick:function(){return i(t)},className:Object(v.a)(u.dropdownButton,u.blueButton)},"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c")),r.a.createElement("div",{className:u.buttonWrapper},r.a.createElement("button",{onClick:function(){return s(t)},className:Object(v.a)(u.dropdownButton,u.blueButton)},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("div",{className:u.buttonWrapper},r.a.createElement("button",{onClick:function(){return l(t)},className:Object(v.a)(u.dropdownButton,u.redButton)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))},Q=Object(d.a)((function(e){return{root:{display:"flex",width:"100%",padding:"5px 0 5px 15px",alignItems:"center",position:"relative"},content:{width:"100%",height:"25px",overflow:"scroll",overflowY:"hidden",display:"flex",position:"relative","&::-webkit-scrollbar":{display:"none"}},gradient:{height:"40px",width:"10px",top:"0",right:"30px",position:"absolute",background:"linear-gradient(269.93deg, #F6F6F6 0.16%, rgba(246, 246, 246, 0.1) 99.93%)"},cross:{display:"flex",padding:"5px 5px"}}}));var Z=function(){var e=Q(),t=X(),n=t.consoleData,a=t.deleteHistory,o=n.requests;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{id:"scroll",className:e.content},o.map((function(e){return r.a.createElement($,Object.assign({},e,{key:Math.random()}))}))),r.a.createElement("div",{className:e.gradient}),r.a.createElement("div",{className:e.cross,onClick:a},r.a.createElement("img",{src:"/icons/cross.svg",alt:"delete"})))},ee=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",flex:"1"}}}));var te=function(){var e=ee();return r.a.createElement("div",{className:e.root},r.a.createElement(K,null),r.a.createElement(Z,null),r.a.createElement(G,null))};var ne=function(){return r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(D,null,r.a.createElement(Y,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(i.a,{path:"/console"},r.a.createElement(te,null)),r.a.createElement(i.a,{path:"/console1"},r.a.createElement(Z,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.ea059c24.chunk.js.map